#Battery config
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y


CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_BT_BAS=y

#Layer LED config
CONFIG_RGBLED_WIDGET_SHOW_LAYER_CHANGE=y

#ZMK Studio config
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n

# ========= Power / Sleep =========

# 無操作300秒でスリープ
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=300000   # ms = 300秒

# USB接続中はスリープしない
CONFIG_ZMK_USB_SUSPEND=n

# ========= Wake / First Keystroke =========

# キー割り込みで即起床（1打鍵目を捨てない）
CONFIG_ZMK_WAKEUP_KEY=y

# Deep sleep を使う（超低消費）
CONFIG_PM_DEVICE=y
CONFIG_PM=y
CONFIG_PM_SLEEP_STATES=y
CONFIG_PM_STATE_SUSPEND_TO_RAM=y

# debounceが初打鍵を殺さないように
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# ========= Role =========
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_ROLE_PERIPHERAL=y

# ========= BLE =========

# Peripheral は Central のみと通信
CONFIG_ZMK_BLE=y
CONFIG_ZMK_BLE_ROLE_PERIPHERAL=y

# bond保持（再ペアリング防止）
CONFIG_BT_SETTINGS=y

# ========= Wake behavior =========

# 自分のキー押下で起床
CONFIG_ZMK_WAKEUP_KEY=y

# 起床時に Central を叩き起こす
CONFIG_ZMK_SPLIT_WAKEUP=y
